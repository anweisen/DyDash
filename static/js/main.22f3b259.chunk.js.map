{"version":3,"sources":["components/Login.tsx","components/Logout.tsx","api/api.ts","components/dashboard/NavEntry.tsx","components/Nav.tsx","components/Loader.tsx","components/dashboard/content/Overview.tsx","components/dashboard/content/Players.tsx","components/dashboard/Dashboard.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["loginMethods","name","fields","addressField","MethodFormInputs","method","hooks","map","field","FormInput","useState","value","set","className","placeholder","onChange","event","target","LoginSelect","setMethod","encryption","setEncryption","collapsed","setCollapsed","onClick","current","Login","setCookies","redirect","setRedirect","Redirect","to","alt","src","preventDefault","host","options","magAge","token","length","Logout","cookies","key","expires","Date","Routes","path","CloudAPI","auth","socket","this","onmessage","message","data","console","log","route","queryParams","protocol","query","encodeURIComponent","WebSocket","useUrl","UPGRADE_WEBSOCKET","getAuth","endpoint","startTime","now","axios","headers","Authorization","timeout","then","makeRequest","ONLINE_PLAYERS","NavEntry","icon","React","createElement","links","MdHome","MdPeople","MdStorage","MdOutlineLogout","Nav","link","Loader","Card","Overview","api","players","setPlayers","useEffect","fetchPlayers","Players","Dashboard","connection","setConnection","upgradeWebSocket","onerror","onopen","initSocket","element","App","useCookies","cookiesSet","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","undefined"],"mappings":"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","file":"static/js/main.22f3b259.chunk.js","sourcesContent":["import { MdExpandMore, MdDone, MdClose } from \"react-icons/md\";\nimport { useState } from \"react\";\nimport { Navigate } from \"react-router-dom\";\n\nimport \"./Login.scss\";\n\ntype Hooks = Record<string, { value: string | undefined; set: (value: string) => void }>;\ntype LoginMethod = { name: string; fields: string[] }\nconst loginMethods: LoginMethod[] = [\n\t{\n\t\tname: \"Player\",\n\t\tfields: [\n\t\t\t\"Player Name\",\n\t\t\t\"Access Token\"\n\t\t]\n\t},\n\t{\n\t\tname: \"Token\",\n\t\tfields: [\n\t\t\t\"Access Token\"\n\t\t]\n\t}\n]\nconst addressField = \"Cloud Hostaddress\";\n\nfunction MethodFormInputs({ method, hooks }:{ method: LoginMethod; hooks: Hooks }) {\n\treturn (\n\t\t<>\n\t\t\t{method.fields.map(field => <FormInput key={field} name={field} hooks={hooks} />)}\n\t\t</>\n\t);\n}\nfunction FormInput({ name, hooks }:{ name: string; hooks: Hooks }) {\n\tconst [ value, set ] = useState<string>();\n\thooks[name] = { value: value, set: set };\n\treturn <input className={\"input\"} placeholder={name} onChange={event => set(event.target.value)}/>\n}\nfunction LoginSelect({ method, setMethod, encryption, setEncryption, hooks }:{ method: LoginMethod | undefined; setMethod: (value: LoginMethod) => void; encryption: boolean; setEncryption: (value: boolean) => void; hooks: Hooks }) {\n\tconst [ collapsed, setCollapsed ] = useState(true);\n\n\treturn (\n\t\t<div className={\"LoginSelect\"}>\n\n\t\t\t<div className={\"box\"} onClick={event => setCollapsed(!collapsed)}>\n\t\t\t\t<p className={\"text\"}>{method == null ? \"Select Method\" : method.name}</p>\n\t\t\t\t<MdExpandMore className={\"icon\" + (collapsed ? \"\" : \" rotated\")}/>\n\t\t\t</div>\n\t\t\t<div className={\"dropdown-container\"}>\n\t\t\t\t<span className={\"dropdown\" + (collapsed ? \"\" : \" shown\")}>\n\t\t\t\t\t<div className={\"dropdown-selection\"}>\n\t\t\t\t\t\t{loginMethods.map(current =>\n\t\t\t\t\t\t\t<p key={current.name} className={(current === method ? \"current\" : \"\")} onClick={event => {\n\t\t\t\t\t\t\t\tsetMethod(current);\n\t\t\t\t\t\t\t\tsetCollapsed(true);\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t{current.name}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<div className={\"box\"} onClick={event => setEncryption(!encryption)}>\n\t\t\t\t<p className={\"text\"}>SSL Encryption</p>\n\t\t\t\t{encryption ? <MdDone className={\"icon\"} /> : <MdClose className={\"icon\"} />}\n\t\t\t</div>\n\t\t\t<FormInput name={addressField} hooks={hooks} />\n\t\t\t{method != null ? <MethodFormInputs method={method} hooks={hooks} /> : null}\n\n\t\t</div>\n\t)\n}\n\nexport default function Login({ setCookies }:{ setCookies: any }) {\n\tconst [ method, setMethod ] = useState<LoginMethod>();\n\tconst [ redirect, setRedirect ] = useState(false);\n\tconst [ encryption, setEncryption ] = useState(false);\n\tconst hooks: Hooks = {};\n\n\tfunction Redirect({ to }: { to: string }) {\n\t\treturn redirect ? <Navigate to={to} /> : null;\n\t}\n\n\treturn (\n\t\t<div className={\"Login\"}>\n\n\t\t\t<div className={\"header\"}>\n\t\t\t\t<img alt={\"\"} src={\"logo-sized.png\"}/>\n\t\t\t\t<h1>DyCloud » Dashboard</h1>\n\t\t\t</div>\n\n\t\t\t<div className={\"form-container\"}>\n\t\t\t\t<div className={\"form\"}>\n\t\t\t\t\t<h1>Login</h1>\n\t\t\t\t\t{/*<h1>•┃ Login ┃•</h1>*/}\n\t\t\t\t\t{/*<h1>•» Login «•</h1>*/}\n\t\t\t\t\t<LoginSelect method={method} setMethod={setMethod} encryption={encryption} setEncryption={setEncryption} hooks={hooks} />\n\t\t\t\t\t<div className={\"button\"} onClick={event => {\n\t\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\t\tif (method == null) return;\n\t\t\t\t\t\tconst host = hooks[addressField].value;\n\t\t\t\t\t\tconst options = { magAge: 7*24*60*60*60 };\n\n\t\t\t\t\t\tsetCookies(\"encryption\", encryption);\n\t\t\t\t\t\tsetCookies(\"method\", method.name, options);\n\t\t\t\t\t\tsetCookies(\"host\", host, options);\n\n\t\t\t\t\t\tlet token = \"\";\n\t\t\t\t\t\tfor (const field of method.fields) {\n\t\t\t\t\t\t\tif (token.length > 0) token += \":\";\n\t\t\t\t\t\t\ttoken += hooks[field].value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetCookies(\"token\", token, options);\n\n\t\t\t\t\t\tsetRedirect(true);\n\t\t\t\t\t}}>Login</div>\n\t\t\t\t\t<Redirect to={\"/\"} />\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t</div>\n\t)\n}","import { Navigate } from \"react-router-dom\";\n\nexport default function Logout({ cookies, setCookies }:{ cookies: any; setCookies: any }) {\n\tfor (const key in cookies) {\n\t\tif (key === \"cookieconsent_status\") continue;\n\t\tsetCookies(key, \"\", { expires: new Date(0) })\n\t}\n\n\treturn <Navigate to={\"/login\"} />\n}","import axios from \"axios\";\n\nconst API_VERSION = 1;\n\ntype Auth = {\n\tmethod: string;\n\ttoken: string;\n}\ntype HttpMethod =\n\t| \"get\"\n\t| \"delete\"\n\t| \"head\"\n\t| \"options\"\n\t| \"post\"\n\t| \"put\"\n\t| \"patch\"\n\t| \"purge\"\n\t| \"link\"\n\t| \"unlink\";\n\ntype Route = {\n\tpath: string;\n\tmethod: HttpMethod;\n}\nexport module Routes {\n\texport const UPGRADE_WEBSOCKET: Route \t= { path: \"/upgrade\", \t\tmethod: \"get\" };\n\texport const ONLINE_PLAYERS: Route \t\t= { path: \"/player/online\",\tmethod: \"get\" };\n}\n\nexport interface Player {\n\tname: string;\n\tuuid: string;\n}\n\nexport class CloudAPI {\n\n\tprivate readonly host: string;\n\tprivate readonly auth: Auth;\n\tprivate readonly encryption: boolean;\n\tprivate socket: WebSocket | undefined;\n\n\tconstructor(encryption: boolean, host: string, auth: Auth) {\n\t\tthis.encryption = encryption;\n\t\tthis.host = host;\n\t\tthis.auth = auth;\n\t}\n\n\tgetAuth(): string {\n\t\treturn `${this.auth.method} ${this.auth.token}`;\n\t}\n\n\tinitSocket(socket: WebSocket): void {\n\t\tthis.socket = socket;\n\n\t\tthis.socket.onmessage = (event) => {\n\t\t\tconst message = event.data;\n\t\t\tconsole.log(\"WebSocket: \" + message);\n\t\t}\n\t}\n\n\tuseUrl(route: Route, queryParams: Record<string, string> = {}, protocol: string = this.encryption ? \"https\" : \"http\"): string {\n\t\tlet query = \"\";\n\t\tfor (const key in queryParams) {\n\t\t\tif (query === \"\") query = \"?\";\n\t\t\telse query += \"&\";\n\t\t\tquery += key;\n\t\t\tquery += \"=\";\n\t\t\tquery += encodeURIComponent(queryParams[key]);\n\t\t}\n\n\t\treturn `${protocol}://${this.host}/v${API_VERSION}${route.path}${query}`;\n\t}\n\n\tpublic upgradeWebSocket(): WebSocket {\n\t\treturn new WebSocket(this.useUrl(Routes.UPGRADE_WEBSOCKET, { auth: this.getAuth() }, this.encryption ? \"wss\" : \"ws\"));\n\t}\n\n\tpublic async makeRequest(route: Route): Promise<any> {\n\t\tconst endpoint = this.useUrl(route);\n\n\t\tconst startTime = Date.now();\n\t\treturn axios(endpoint, {\n\t\t\theaders: {\n\t\t\t\tAuthorization: this.getAuth()\n\t\t\t},\n\t\t\ttimeout: 3500,\n\t\t\tmethod: route.method\n\t\t}).then(value => {\n\t\t\tconsole.log(`Fetched ${route.path} in ${Date.now() - startTime}ms`)\n\t\t\treturn value.data;\n\t\t});\n\t}\n\n\tpublic async fetchPlayers(): Promise<Player[]> {\n\t\treturn this.makeRequest(Routes.ONLINE_PLAYERS);\n\t}\n\n}\n\nexport function useTitle(label: string) {\n\t// document.title = \"DyCloud\" + (label === null || label === \"\" ? \"\" : \" | \" + label);\n}\n","import React from \"react\";\nimport { IconType } from \"react-icons\";\nimport { NavLink } from \"react-router-dom\";\n\nexport default function NavEntry({ name, icon, path }: { name: string, path: string; icon: IconType }) {\n\treturn (\n\t\t<div>\n\t\t\t<NavLink to={path} className={\"NavEntry\"}>\n\t\t\t\t{React.createElement(icon, { className: \"icon\" })}\n\t\t\t\t<p className={\"name\"}>{name}</p>\n\t\t\t</NavLink >\n\t\t</div>\n\t);\n}","import { MdHome, MdPeople, MdStorage, MdOutlineLogout } from \"react-icons/all\";\nimport { IconType } from \"react-icons\";\n\nimport NavEntry from \"./dashboard/NavEntry\";\n\nimport \"./dashboard/Nav.scss\";\n\nconst links: { name: string; path: string; icon: IconType }[] = [\n\t{\n\t\tname: \"Overview\",\n\t\tpath: \"/\",\n\t\ticon: MdHome\n\t},\n\t{\n\t\tname: \"Players\",\n\t\tpath: \"player\",\n\t\ticon: MdPeople\n\t},\n\t{\n\t\tname: \"Services\",\n\t\tpath: \"service\",\n\t\ticon: MdStorage\n\t},\n\t{\n\t\tname: \"Logout\",\n\t\tpath: \"logout\",\n\t\ticon: MdOutlineLogout\n\t}\n];\n\nexport default function Nav() {\n\treturn (\n\t\t<div className={\"Nav\"}>\n\t\t\t<div className={\"header\"}>\n\t\t\t\t<img alt={\"\"} src={\"logo-sized.png\"} />\n\t\t\t\t<h1>DyCloud</h1>\n\t\t\t</div>\n\t\t\t<div className={\"links\"}>\n\t\t\t\t{links.map(link => <NavEntry key={link.path} name={link.name} icon={link.icon} path={link.path} />)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};","import \"./Loader.scss\";\n\nexport default function Loader() {\n\treturn (\n\t\t<div className={\"Loader\"}>\n\t\t\t{/*<div className=\"lds-ripple\">*/}\n\t\t\t{/*\t<div/><div/>*/}\n\t\t\t{/*</div>*/}\n\t\t\t<div className=\"lds-ellipsis\">\n\t\t\t\t<div/><div/><div/><div/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}","import { useEffect, useState } from \"react\";\nimport { MdPeopleOutline } from \"react-icons/all\";\n\nimport Loader from \"../../Loader\";\nimport { CloudAPI, Player } from \"../../../api/api\";\n\nfunction Card({ name, value }: { name: string; value: any; }) {\n\treturn (\n\t\t<div className={\"Card\"}>\n\t\t\t<MdPeopleOutline className={\"icon\"}/>\n\t\t\t<p className={\"name\"}>{name}</p>\n\t\t\t<p className={\"value\"}>{value}</p>\n\t\t</div>\n\t);\n}\n\nexport default function Overview({ api }: { api: CloudAPI; }) {\n\tconst [ players, setPlayers ] = useState<Player[]>();\n\n\tuseEffect(() => {\n\t\tif (players != null) return;\n\t\tapi.fetchPlayers().then(players => setPlayers(players));\n\t});\n\n\treturn (\n\t\t<div className={\"Overview Dashboard-Component\"}>\n\t\t\t{ players == null\n\t\t\t\t? <Loader/>\n\t\t\t\t: <>\n\t\t\t\t\t<Card name={\"Online Player\"} value={players.length} />\n\t\t\t\t</>\n\t\t\t}\n\t\t</div>\n\t);\n}","import { ImHammer2 } from \"react-icons/all\";\nimport { useEffect, useState } from \"react\";\n\nimport Loader from \"../../Loader\";\nimport { CloudAPI, Player } from \"../../../api/api\";\n\nexport default function Players({ api }: { api: CloudAPI }) {\n\tconst [ players, setPlayers ] = useState<Player[]>();\n\n\tuseEffect(() => {\n\t\tif (players != null) return;\n\t\tapi.fetchPlayers().then(players => setPlayers(players));\n\t});\n\n\treturn (\n\t\t<div className={\"Players Dashboard-Component\"}>\n\t\t\t{ players == null\n\t\t\t\t? <Loader/>\n\t\t\t\t: <>\n\t\t\t\t</>\n\t\t\t}\n\t\t</div>\n\t);\n}","import {Navigate, Route, Routes} from \"react-router-dom\"\nimport {useEffect, useState} from \"react\";\n\nimport {CloudAPI} from \"../../api/api\";\n\nimport Nav from \"../Nav\";\nimport Overview from \"./content/Overview\";\nimport Players from \"./content/Players\";\nimport Loader from \"../Loader\";\n\nimport \"./Dashboard.scss\";\n\nexport default function Dashboard({ cookies }: { cookies: Record<string, any> }) {\n\tconst [ connection, setConnection ] = useState<any>();\n\n\tuseEffect(() => {\n\t\tif (connection != null) return; // only try to connect the first time\n\t\tconst api = new CloudAPI(cookies.encryption, cookies.host, { method: cookies.method, token: cookies.token });\n\t\tconst socket = api.upgradeWebSocket();\n\n\t\tsocket.onerror = () => {\n\t\t\tsetConnection(false);\n\t\t}\n\t\tsocket.onopen = () => {\n\t\t\tapi.initSocket(socket);\n\t\t\tsetConnection(api);\n\t\t}\n\t});\n\n\treturn (\n\t\t<>\n\t\t\t{ connection == null\n\t\t\t\t? <Loader />\n\t\t\t\t: !connection ? <Navigate to={\"login\"} />\n\t\t\t\t: <>\n\t\t\t\t\t<Nav/>\n\n\t\t\t\t\t<div className={\"content\"}>\n\t\t\t\t\t\t<Routes>\n\t\t\t\t\t\t\t<Route path={\"/\"}       element={<Overview api={connection} />} />\n\t\t\t\t\t\t\t<Route path={\"player\"}  element={<Players api={connection} />} />\n\t\t\t\t\t\t</Routes>\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t}\n\n\t\t</>\n\t);\n}","import { BrowserRouter as Router, Route, Routes, Navigate } from \"react-router-dom\"\nimport { useCookies } from \"react-cookie\";\n\nimport Login from \"./components/Login\";\nimport Logout from \"./components/Logout\";\nimport Dashboard from \"./components/dashboard/Dashboard\";\n\nimport \"./theme.scss\";\n\nexport default function App() {\n\tconst [ cookies, setCookies ] = useCookies([\"encryption\", \"host\", \"method\", \"token\"]);\n\tconst cookiesSet = cookies.method != null && cookies.host != null && cookies.token != null;\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<Router>\n\t\t\t\t<Routes>\n\t\t\t\t\t<Route path={\"logout\"} element={<Logout cookies={cookies} setCookies={setCookies} />} />\n\t\t\t\t\t<Route path={\"login\"} element={<Login setCookies={setCookies} />} />\n\t\t\t\t\t<Route path={\"*\"} element={!cookiesSet ? <Navigate to={\"/login\"} /> : <Dashboard cookies={cookies} />} />\n\t\t\t\t</Routes>\n\t\t\t</Router>\n\t\t</div>\n\t);\n}\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry: ReportHandler | undefined) => {\n  if (onPerfEntry != null) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals(undefined);\n"],"sourceRoot":""}