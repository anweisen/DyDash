{"version":3,"sources":["components/Login.tsx","components/Logout.tsx","api/api.ts","components/dashboard/NavEntry.tsx","components/Nav.tsx","components/Loader.tsx","components/dashboard/content/Overview.tsx","components/dashboard/content/Players.tsx","components/dashboard/Dashboard.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["loginMethods","name","fields","addressField","MethodFormInputs","method","hooks","cookies","split","token","map","field","index","FormInput","defaultValue","useState","value","set","className","placeholder","onChange","event","target","SwappableIcon","status","setStatus","text","onIcon","offIcon","rotated","setRotated","onClick","setTimeout","React","createElement","LoginSelect","setMethod","encryption","setEncryption","collapsed","setCollapsed","current","MdDone","MdClose","host","Login","setCookies","getMethodByName","redirect","setRedirect","Redirect","to","alt","src","preventDefault","options","magAge","length","Logout","key","expires","Date","Routes","path","CloudAPI","auth","socket","this","onmessage","message","data","console","log","route","queryParams","protocol","query","encodeURIComponent","WebSocket","useUrl","UPGRADE_WEBSOCKET","getAuth","endpoint","startTime","now","axios","headers","Authorization","timeout","then","makeRequest","ONLINE_PLAYERS","NavEntry","icon","links","MdHome","MdPeople","MdStorage","MdOutlineLogout","Nav","link","Loader","Card","Overview","api","players","setPlayers","useEffect","fetchPlayers","Players","Dashboard","connection","setConnection","upgradeWebSocket","onerror","onopen","initSocket","ex","error","element","App","useCookies","cookiesSet","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","undefined"],"mappings":"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","file":"static/js/main.20199913.chunk.js","sourcesContent":["import {MdClose, MdDone, MdExpandMore} from \"react-icons/md\";\nimport {IconType} from \"react-icons\";\nimport {Navigate} from \"react-router-dom\";\nimport React, {useState} from \"react\";\n\nimport \"./Login.scss\";\n\ntype Hooks = Record<string, { value: string | undefined; set: (value: string) => void }>;\ntype LoginMethod = { name: string; fields: string[] }\nconst loginMethods: LoginMethod[] = [\n\t{\n\t\tname: \"Player\",\n\t\tfields: [\n\t\t\t\"Player Name\",\n\t\t\t\"Access Token\"\n\t\t]\n\t},\n\t{\n\t\tname: \"Token\",\n\t\tfields: [\n\t\t\t\"API Token\"\n\t\t]\n\t}\n]\nconst addressField = \"Cloud Hostaddress\";\n\nfunction getMethodByName(name: string): LoginMethod | undefined {\n\tfor (let method of loginMethods) {\n\t\tif (method.name === name)\n\t\t\treturn method;\n\t}\n\treturn undefined;\n}\nfunction MethodFormInputs({ method, hooks, cookies }:{ method: LoginMethod; hooks: Hooks; cookies: any }) {\n\tconst split = cookies.token === null || cookies.method !== method.name ? [] : cookies.token.split(\":\");\n\n\treturn (\n\t\t<>\n\t\t\t{method.fields.map((field, index) => <FormInput key={field} name={field} hooks={hooks} defaultValue={split[index]} />)}\n\t\t</>\n\t);\n}\nfunction FormInput({ name, hooks, defaultValue }:{ name: string; hooks: Hooks; defaultValue?: string }) {\n\tconst [ value, set ] = useState<string>();\n\thooks[name] = { value: value, set: set };\n\treturn <input className={\"input underlined\"} defaultValue={defaultValue} placeholder={name} onChange={event => set(event.target.value)}/>\n}\nfunction SwappableIcon({ status, setStatus, text, onIcon, offIcon }:{ status: boolean; setStatus: (value: boolean) => void ; text: string; onIcon: IconType; offIcon: IconType; }) {\n\tconst [ rotated, setRotated ] = useState(status);\n\n\treturn (\n\t\t<div className={\"box underlined\"} onClick={event => {\n\t\t\tsetStatus(!status);\n\t\t\tsetRotated(false);\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetRotated(true);\n\t\t\t}, 1);\n\t\t}}>\n\t\t\t<p className={\"text\"}>{text}</p>\n\t\t\t{status ? React.createElement(onIcon, { className: \"icon\" + (rotated ? \"\" : \" rotated\") }) : React.createElement(offIcon, { className: \"icon\" + (rotated ? \" rotated\" : \"\") }) }\n\t\t</div>\n\t);\n}\nfunction LoginSelect({ method, setMethod, encryption, setEncryption, hooks, cookies }:{ method: LoginMethod | undefined; setMethod: (value: LoginMethod) => void; encryption: boolean; setEncryption: (value: boolean) => void; hooks: Hooks; cookies: any }) {\n\tconst [ collapsed, setCollapsed ] = useState(true);\n\n\treturn (\n\t\t<div className={\"LoginSelect\"}>\n\n\t\t\t<div className={\"box underlined\"} onClick={event => setCollapsed(!collapsed)}>\n\t\t\t\t<p className={\"text\"}>{method == null ? \"Select Method\" : method.name}</p>\n\t\t\t\t<MdExpandMore className={\"icon\" + (collapsed ? \"\" : \" rotated\")}/>\n\t\t\t</div>\n\t\t\t<div className={\"dropdown-container\"}>\n\t\t\t\t<span className={\"dropdown\" + (collapsed ? \"\" : \" shown\")}>\n\t\t\t\t\t<div className={\"dropdown-selection\"}>\n\t\t\t\t\t\t{loginMethods.map(current =>\n\t\t\t\t\t\t\t<p key={current.name} className={(current === method ? \"current\" : \"\")} onClick={event => {\n\t\t\t\t\t\t\t\tsetMethod(current);\n\t\t\t\t\t\t\t\tsetCollapsed(true);\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t{current.name}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<SwappableIcon status={encryption} setStatus={setEncryption} text={\"SSL Encryption\"} onIcon={MdDone} offIcon={MdClose} />\n\t\t\t<FormInput name={addressField} hooks={hooks} defaultValue={cookies.host} />\n\t\t\t{method != null ? <MethodFormInputs method={method} hooks={hooks} cookies={cookies} /> : null}\n\n\t\t</div>\n\t)\n}\n\nexport default function Login({ cookies, setCookies }:{ cookies: any; setCookies: any }) {\n\tconst [ method, setMethod ] = useState(getMethodByName(cookies.method));\n\tconst [ redirect, setRedirect ] = useState(false);\n\tconst [ encryption, setEncryption ] = useState(cookies.encryption === \"true\");\n\tconst hooks: Hooks = {};\n\n\tfunction Redirect({ to }: { to: string }) {\n\t\treturn redirect ? <Navigate to={to} /> : null;\n\t}\n\n\treturn (\n\t\t<div className={\"Login\"}>\n\n\t\t\t<div className={\"header\"}>\n\t\t\t\t<img alt={\"\"} src={\"logo-sized.png\"}/>\n\t\t\t\t<h1>DyCloud » Dashboard</h1>\n\t\t\t</div>\n\n\t\t\t<div className={\"form-container\"}>\n\t\t\t\t<div className={\"form\"}>\n\t\t\t\t\t<h1>Login</h1>\n\t\t\t\t\t{/*<h1>•┃ Login ┃•</h1>*/}\n\t\t\t\t\t{/*<h1>•» Login «•</h1>*/}\n\t\t\t\t\t<LoginSelect method={method} setMethod={setMethod} encryption={encryption} setEncryption={setEncryption} hooks={hooks} cookies={cookies} />\n\t\t\t\t\t<div className={\"button\"} onClick={event => {\n\t\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\t\tif (method == null) return;\n\t\t\t\t\t\tconst host = hooks[addressField].value;\n\t\t\t\t\t\tconst options = { magAge: 7*24*60*60*60 };\n\n\t\t\t\t\t\tsetCookies(\"encryption\", encryption);\n\t\t\t\t\t\tsetCookies(\"method\", method.name, options);\n\t\t\t\t\t\tsetCookies(\"host\", host, options);\n\n\t\t\t\t\t\tlet token = \"\";\n\t\t\t\t\t\tfor (const field of method.fields) {\n\t\t\t\t\t\t\tif (token.length > 0) token += \":\";\n\t\t\t\t\t\t\ttoken += hooks[field].value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetCookies(\"token\", token, options);\n\n\t\t\t\t\t\tsetRedirect(true);\n\t\t\t\t\t}}>Login</div>\n\t\t\t\t\t<Redirect to={\"/\"} />\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t</div>\n\t)\n}","import {Navigate} from \"react-router-dom\";\n\nexport default function Logout({ cookies, setCookies }:{ cookies: any; setCookies: any }) {\n\tfor (const key in cookies) {\n\t\tif (key === \"cookieconsent_status\") continue;\n\t\tsetCookies(key, \"\", { expires: new Date(0) })\n\t}\n\n\treturn <Navigate to={\"/login\"} />\n}","import axios from \"axios\";\n\nconst API_VERSION = 1;\n\ntype Authentication = {\n\tmethod: string;\n\ttoken: string;\n}\ntype UniqueId = string;\ntype HttpMethod =\n\t| \"get\"\n\t| \"delete\"\n\t| \"head\"\n\t| \"options\"\n\t| \"post\"\n\t| \"put\"\n\t| \"patch\"\n\t| \"purge\"\n\t| \"link\"\n\t| \"unlink\";\n\ntype Route = {\n\tpath: string;\n\tmethod: HttpMethod;\n}\nexport module Routes {\n\texport const UPGRADE_WEBSOCKET: Route \t= { path: \"/upgrade\", \t\tmethod: \"get\" };\n\texport const ONLINE_PLAYERS: \tRoute\t= { path: \"/player/online\",\tmethod: \"get\" };\n}\n\nexport interface Player {\n\tname: string;\n\tuuid: UniqueId;\n}\n\nexport class CloudAPI {\n\n\tprivate readonly host: string;\n\tprivate readonly auth: Authentication;\n\tprivate readonly encryption: boolean;\n\tprivate socket: WebSocket | undefined;\n\n\tconstructor(encryption: boolean, host: string, auth: Authentication) {\n\t\tthis.encryption = encryption;\n\t\tthis.host = host;\n\t\tthis.auth = auth;\n\t}\n\n\tgetAuth(): string {\n\t\treturn `${this.auth.method} ${this.auth.token}`;\n\t}\n\n\tinitSocket(socket: WebSocket): void {\n\t\tthis.socket = socket;\n\n\t\tthis.socket.onmessage = (event) => {\n\t\t\tconst message = event.data;\n\t\t\tconsole.log(\"WebSocket: \" + message);\n\t\t}\n\t}\n\n\tuseUrl(route: Route, queryParams: Record<string, string> = {}, protocol: string = this.encryption ? \"https\" : \"http\"): string {\n\t\tlet query = \"\";\n\t\tfor (const key in queryParams) {\n\t\t\tif (query === \"\") query = \"?\";\n\t\t\telse query += \"&\";\n\t\t\tquery += key;\n\t\t\tquery += \"=\";\n\t\t\tquery += encodeURIComponent(queryParams[key]);\n\t\t}\n\n\t\treturn `${protocol}://${this.host}/v${API_VERSION}${route.path}${query}`;\n\t}\n\n\tpublic upgradeWebSocket(): WebSocket {\n\t\treturn new WebSocket(this.useUrl(Routes.UPGRADE_WEBSOCKET, { auth: this.getAuth() }, this.encryption ? \"wss\" : \"ws\"));\n\t}\n\n\tpublic async makeRequest(route: Route): Promise<any> {\n\t\tconst endpoint = this.useUrl(route);\n\n\t\tconst startTime = Date.now();\n\t\treturn axios(endpoint, {\n\t\t\theaders: {\n\t\t\t\tAuthorization: this.getAuth()\n\t\t\t},\n\t\t\ttimeout: 3500,\n\t\t\tmethod: route.method\n\t\t}).then(value => {\n\t\t\tconsole.log(`Fetched ${route.path} in ${Date.now() - startTime}ms`)\n\t\t\treturn value.data;\n\t\t});\n\t}\n\n\tpublic async fetchPlayers(): Promise<Player[]> {\n\t\treturn this.makeRequest(Routes.ONLINE_PLAYERS);\n\t}\n\n}\n\nexport function useTitle(label: string) {\n\t// document.title = \"DyCloud\" + (label === null || label === \"\" ? \"\" : \" | \" + label);\n}\n","import React from \"react\";\nimport {IconType} from \"react-icons\";\nimport {NavLink} from \"react-router-dom\";\n\nexport default function NavEntry({ name, icon, path }: { name: string, path: string; icon: IconType }) {\n\treturn (\n\t\t<div>\n\t\t\t<NavLink to={path} className={\"NavEntry\"}>\n\t\t\t\t{React.createElement(icon, { className: \"icon\" })}\n\t\t\t\t<p className={\"name\"}>{name}</p>\n\t\t\t</NavLink >\n\t\t</div>\n\t);\n}","import {MdHome, MdOutlineLogout, MdPeople, MdStorage} from \"react-icons/all\";\nimport {IconType} from \"react-icons\";\n\nimport NavEntry from \"./dashboard/NavEntry\";\n\nimport \"./dashboard/Nav.scss\";\n\nconst links: { name: string; path: string; icon: IconType }[] = [\n\t{\n\t\tname: \"Overview\",\n\t\tpath: \"/\",\n\t\ticon: MdHome\n\t},\n\t{\n\t\tname: \"Players\",\n\t\tpath: \"player\",\n\t\ticon: MdPeople\n\t},\n\t{\n\t\tname: \"Services\",\n\t\tpath: \"service\",\n\t\ticon: MdStorage\n\t},\n\t{\n\t\tname: \"Logout\",\n\t\tpath: \"logout\",\n\t\ticon: MdOutlineLogout\n\t}\n];\n\nexport default function Nav() {\n\treturn (\n\t\t<div className={\"Nav\"}>\n\t\t\t<div className={\"header\"}>\n\t\t\t\t<img alt={\"\"} src={\"logo-sized.png\"} />\n\t\t\t\t<h1>DyCloud</h1>\n\t\t\t</div>\n\t\t\t<div className={\"links\"}>\n\t\t\t\t{links.map(link => <NavEntry key={link.path} name={link.name} icon={link.icon} path={link.path} />)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};","import \"./Loader.scss\";\n\nexport default function Loader() {\n\treturn (\n\t\t<div className={\"Loader\"}>\n\t\t\t{/*<div className=\"lds-ripple\">*/}\n\t\t\t{/*\t<div/><div/>*/}\n\t\t\t{/*</div>*/}\n\t\t\t<div className=\"lds-ellipsis\">\n\t\t\t\t<div/><div/><div/><div/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}","import {useEffect, useState} from \"react\";\nimport {MdPeopleOutline} from \"react-icons/all\";\n\nimport Loader from \"../../Loader\";\nimport {CloudAPI, Player} from \"../../../api/api\";\n\nfunction Card({ name, value }: { name: string; value: any; }) {\n\treturn (\n\t\t<div className={\"Card\"}>\n\t\t\t<MdPeopleOutline className={\"icon\"}/>\n\t\t\t<p className={\"name\"}>{name}</p>\n\t\t\t<p className={\"value\"}>{value}</p>\n\t\t</div>\n\t);\n}\n\nexport default function Overview({ api }: { api: CloudAPI; }) {\n\tconst [ players, setPlayers ] = useState<Player[]>();\n\n\tuseEffect(() => {\n\t\tif (players != null) return;\n\t\tapi.fetchPlayers().then(players => setPlayers(players));\n\t});\n\n\treturn (\n\t\t<div className={\"Overview Dashboard-Component\"}>\n\t\t\t{ players == null\n\t\t\t\t? <Loader/>\n\t\t\t\t: <>\n\t\t\t\t\t<Card name={\"Online Player\"} value={players.length} />\n\t\t\t\t</>\n\t\t\t}\n\t\t</div>\n\t);\n}","import {useEffect, useState} from \"react\";\n\nimport Loader from \"../../Loader\";\nimport {CloudAPI, Player} from \"../../../api/api\";\n\nexport default function Players({ api }: { api: CloudAPI }) {\n\tconst [ players, setPlayers ] = useState<Player[]>();\n\n\tuseEffect(() => {\n\t\tif (players != null) return;\n\t\tapi.fetchPlayers().then(players => setPlayers(players));\n\t});\n\n\treturn (\n\t\t<div className={\"Players Dashboard-Component\"}>\n\t\t\t{ players == null\n\t\t\t\t? <Loader/>\n\t\t\t\t: <>\n\t\t\t\t</>\n\t\t\t}\n\t\t</div>\n\t);\n}","import {Navigate, Route, Routes} from \"react-router-dom\"\nimport {useEffect, useState} from \"react\";\n\nimport {CloudAPI} from \"../../api/api\";\n\nimport Nav from \"../Nav\";\nimport Overview from \"./content/Overview\";\nimport Players from \"./content/Players\";\nimport Loader from \"../Loader\";\n\nimport \"./Dashboard.scss\";\n\nexport default function Dashboard({ cookies }: { cookies: Record<string, any> }) {\n\tconst [ connection, setConnection ] = useState<any>();\n\n\tuseEffect(() => {\n\t\ttry {\n\t\t\tconst api = new CloudAPI(cookies.encryption === \"true\", cookies.host, { method: cookies.method, token: cookies.token });\n\t\t\tconst socket = api.upgradeWebSocket();\n\n\t\t\tsocket.onerror = () => {\n\t\t\t\tsetConnection(false);\n\t\t\t}\n\t\t\tsocket.onopen = () => {\n\t\t\t\tapi.initSocket(socket);\n\t\t\t\tsetConnection(api);\n\t\t\t}\n\n\t\t} catch (ex) {\n\t\t\tconsole.error(\"Could not establish websocket connection\");\n\t\t\tconsole.error(ex);\n\t\t\tsetConnection(false);\n\t\t}\n\t}, [ connection, cookies.encryption, cookies.host, cookies.method, cookies.token ]);\n\n\treturn (\n\t\t<>\n\t\t\t{ connection == null\n\t\t\t\t? <Loader />\n\t\t\t\t: !connection ? <Navigate to={\"login\"} />\n\t\t\t\t: <>\n\t\t\t\t\t<Nav/>\n\t\t\t\t\t<div className={\"content\"}>\n\t\t\t\t\t\t<Routes>\n\t\t\t\t\t\t\t<Route path={\"/\"}       element={<Overview api={connection} />} />\n\t\t\t\t\t\t\t<Route path={\"player\"}  element={<Players api={connection} />} />\n\t\t\t\t\t\t</Routes>\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t}\n\n\t\t</>\n\t);\n}","import {BrowserRouter as Router, Navigate, Route, Routes} from \"react-router-dom\"\nimport {useCookies} from \"react-cookie\";\n\nimport Login from \"./components/Login\";\nimport Logout from \"./components/Logout\";\nimport Dashboard from \"./components/dashboard/Dashboard\";\n\nimport \"./theme.scss\";\n\nexport default function App() {\n\tconst [ cookies, setCookies ] = useCookies([\"encryption\", \"host\", \"method\", \"token\"]);\n\tconst cookiesSet = cookies.method != null && cookies.host != null && cookies.token != null;\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<Router>\n\t\t\t\t<Routes>\n\t\t\t\t\t<Route path={\"logout\"} element={<Logout cookies={cookies} setCookies={setCookies} />} />\n\t\t\t\t\t<Route path={\"login\"} element={<Login cookies={cookies} setCookies={setCookies} />} />\n\t\t\t\t\t<Route path={\"*\"} element={!cookiesSet ? <Navigate to={\"/login\"} /> : <Dashboard cookies={cookies} />} />\n\t\t\t\t</Routes>\n\t\t\t</Router>\n\t\t</div>\n\t);\n}\n","import {ReportHandler} from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry: ReportHandler | undefined) => {\n  if (onPerfEntry != null) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals(undefined);\n"],"sourceRoot":""}