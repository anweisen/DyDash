{"version":3,"sources":["components/Login.tsx","components/Logout.tsx","api/api.ts","components/dashboard/NavEntry.tsx","components/Nav.tsx","components/Loader.tsx","components/dashboard/content/Overview.tsx","components/dashboard/content/Players.tsx","components/dashboard/Dashboard.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["loginMethods","name","fields","addressField","MethodFormInputs","method","hooks","map","field","FormInput","useState","value","set","className","placeholder","onChange","event","target","LoginSelect","setMethod","collapsed","setCollapsed","onClick","current","Login","setCookies","redirect","setRedirect","Redirect","to","alt","src","preventDefault","host","options","magAge","token","length","Logout","cookies","key","expires","Date","Routes","path","CloudAPI","auth","socket","this","onmessage","message","data","console","log","route","queryParams","protocol","query","encodeURIComponent","WebSocket","useUrl","UPGRADE_WEBSOCKET","endpoint","axios","headers","Authorization","getAuth","timeout","then","makeRequest","ONLINE_PLAYERS","NavEntry","icon","React","createElement","links","MdHome","MdPeople","MdStorage","MdOutlineLogout","Nav","link","Loader","Card","Overview","api","players","setPlayers","useEffect","fetchPlayers","Players","Dashboard","connection","setConnection","upgradeWebSocket","onerror","onopen","initSocket","element","App","useCookies","cookiesSet","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","undefined"],"mappings":"uUAQMA,EAAmC,CACxC,CACCC,KAAM,SACNC,OAAQ,CACP,cACA,iBAGF,CACCD,KAAM,QACNC,OAAQ,CACP,kBAIGC,EAAe,oBAErB,SAASC,EAAT,GAAoF,IAAxDC,EAAuD,EAAvDA,OAAQC,EAA+C,EAA/CA,MACnC,OACC,mCACED,EAAOH,OAAOK,KAAI,SAAAC,GAAK,OAAI,cAACC,EAAD,CAAuBR,KAAMO,EAAOF,MAAOA,GAA3BE,QAI/C,SAASC,EAAT,GAAoE,IAA/CR,EAA8C,EAA9CA,KAAMK,EAAwC,EAAxCA,MAC1B,EAAuBI,qBAAvB,mBAAQC,EAAR,KAAeC,EAAf,KAEA,OADAN,EAAML,GAAQ,CAAEU,MAAOA,EAAOC,IAAKA,GAC5B,uBAAOC,UAAW,QAASC,YAAab,EAAMc,SAAU,SAAAC,GAAK,OAAIJ,EAAII,EAAMC,OAAON,UAE1F,SAASO,EAAT,GAA+I,IAAxHb,EAAuH,EAAvHA,OAAQc,EAA+G,EAA/GA,UAAWb,EAAoG,EAApGA,MACzC,EAAoCI,oBAAS,GAA7C,mBAAQU,EAAR,KAAmBC,EAAnB,KAEA,OACC,sBAAKR,UAAW,cAAhB,UAEC,sBAAKA,UAAW,MAAOS,QAAS,SAAAN,GAAK,OAAIK,GAAcD,IAAvD,UACC,mBAAGP,UAAW,OAAd,SAAiC,MAAVR,EAAiB,gBAAkBA,EAAOJ,OACjE,cAAC,IAAD,CAAcY,UAAW,QAAUO,EAAY,GAAK,iBAErD,qBAAKP,UAAW,qBAAhB,SACC,sBAAMA,UAAW,YAAcO,EAAY,GAAK,UAAhD,SACC,qBAAKP,UAAW,qBAAhB,SACEb,EAAaO,KAAI,SAAAgB,GAAO,OACxB,mBAAsBV,UAAYU,IAAYlB,EAAS,UAAY,GAAKiB,QAAS,SAAAN,GAChFG,EAAUI,GACVF,GAAa,IAFd,SAIEE,EAAQtB,MAJFsB,EAAQtB,eAUpB,cAACQ,EAAD,CAAWR,KAAME,EAAcG,MAAOA,IAC3B,MAAVD,EAAiB,cAACD,EAAD,CAAkBC,OAAQA,EAAQC,MAAOA,IAAY,QAM3D,SAASkB,EAAT,GAAoD,IAAnCC,EAAkC,EAAlCA,WAC/B,EAA8Bf,qBAA9B,mBAAQL,EAAR,KAAgBc,EAAhB,KACA,EAAkCT,oBAAS,GAA3C,mBAAQgB,EAAR,KAAkBC,EAAlB,KACMrB,EAAe,GAErB,SAASsB,EAAT,GAA2C,IAAvBC,EAAsB,EAAtBA,GACnB,OAAOH,EAAW,cAAC,IAAD,CAAUG,GAAIA,IAAS,KAG1C,OACC,sBAAKhB,UAAW,QAAhB,UAEC,sBAAKA,UAAW,SAAhB,UACC,qBAAKiB,IAAK,GAAIC,IAAK,mBACnB,2DAGD,qBAAKlB,UAAW,iBAAhB,SACC,sBAAKA,UAAW,OAAhB,UACC,uCAGA,cAACK,EAAD,CAAab,OAAQA,EAAQc,UAAWA,EAAWb,MAAOA,IAC1D,qBAAKO,UAAW,SAAUS,QAAS,SAAAN,GAGlC,GAFAA,EAAMgB,iBAEQ,MAAV3B,EAAJ,CACA,IAAM4B,EAAO3B,EAAMH,GAAcQ,MAC3BuB,EAAU,CAAEC,OAAQ,SAE1BV,EAAW,SAAUpB,EAAQ6B,GAC7BT,EAAW,OAAQQ,EAAMC,GAEzB,IAV2C,EAUvCE,EAAQ,GAV+B,cAWvB/B,EAAOH,QAXgB,IAW3C,2BAAmC,CAAC,IAAzBM,EAAwB,QAC9B4B,EAAMC,OAAS,IAAGD,GAAS,KAC/BA,GAAS9B,EAAME,GAAOG,OAboB,8BAe3Cc,EAAW,QAASW,EAAOF,GAE3BP,GAAY,KAjBb,mBAmBA,cAACC,EAAD,CAAUC,GAAI,cC5GJ,SAASS,EAAT,GAA4E,IAA1DC,EAAyD,EAAzDA,QAASd,EAAgD,EAAhDA,WACzC,IAAK,IAAMe,KAAOD,EACL,yBAARC,GACJf,EAAWe,EAAK,GAAI,CAAEC,QAAS,IAAIC,KAAK,KAGzC,OAAO,cAAC,IAAD,CAAUb,GAAI,W,ICgBf,E,8DAAOc,M,KACwB,kBAAI,CAAEC,KAAM,WAAcvC,OAAQ,OACrC,iBAAK,CAAEuC,KAAM,iBAAkBvC,OAAQ,OAQnE,IAAMwC,EAAb,WAMC,WAAYZ,EAAca,GAAa,yBAJtBb,UAIqB,OAHrBa,UAGqB,OAF9BC,YAE8B,EACrCC,KAAKf,KAAOA,EACZe,KAAKF,KAAOA,EARd,2CAWC,WACC,OAAOE,KAAKF,KAAKzC,OAAS,IAAM2C,KAAKF,KAAKV,QAZ5C,wBAeC,SAAWW,GACVC,KAAKD,OAASA,EAEdC,KAAKD,OAAOE,UAAY,SAACjC,GACxB,IAAMkC,EAAUlC,EAAMmC,KACtBC,QAAQC,IAAI,cAAgBH,MApB/B,oBAwBC,SAAOI,GAA4F,IAA9EC,EAA6E,uDAAvC,GAAIC,EAAmC,uDAAhB,OACjFJ,QAAQC,IAAIE,GACZ,IAAIE,EAAQ,GACZ,IAAK,IAAMjB,KAAOe,EACH,KAAVE,EAAcA,EAAQ,IACrBA,GAAS,IACdA,GAASjB,EACTiB,GAAS,IACTA,GAASC,mBAAmBH,EAAYf,IACxCY,QAAQC,IAAIb,GACZY,QAAQC,IAAIE,EAAYf,IAGzB,MAAM,GAAN,OAAUgB,EAAV,cAAwBR,KAAKf,KAA7B,aArEkB,GAqElB,OAAoDqB,EAAMV,MAA1D,OAAiEa,KArCnE,8BAwCC,WACC,OAAO,IAAIE,UAAUX,KAAKY,OAAOjB,EAAOkB,kBAAmB,CAAEf,KAAME,KAAKF,KAAKzC,OAAS,IAAM2C,KAAKF,KAAKV,OAAS,UAzCjH,gEA4CC,WAAyBkB,GAAzB,8EACOQ,EAAWd,KAAKY,OAAON,GAD9B,kBAGQS,IAAMD,EAAU,CACtBE,QAAS,CACRC,cAAejB,KAAKkB,WAErBC,QAAS,KACT9D,OAAQiD,EAAMjD,SACZ+D,MAAK,SAAAzD,GAAK,OAAIA,EAAMwC,SATxB,gDA5CD,wHAwDC,uGACQH,KAAKqB,YAAY1B,EAAO2B,iBADhC,gDAxDD,6DC9Be,SAASC,EAAT,GAAyF,IAArEtE,EAAoE,EAApEA,KAAMuE,EAA8D,EAA9DA,KAAM5B,EAAwD,EAAxDA,KAC9C,OACC,8BACC,eAAC,IAAD,CAASf,GAAIe,EAAM/B,UAAW,WAA9B,UACE4D,IAAMC,cAAcF,EAAM,CAAE3D,UAAW,SACxC,mBAAGA,UAAW,OAAd,SAAuBZ,S,UCFrB0E,EAA+D,CACpE,CACC1E,KAAM,WACN2C,KAAM,IACN4B,KAAMI,KAEP,CACC3E,KAAM,UACN2C,KAAM,SACN4B,KAAMK,KAEP,CACC5E,KAAM,WACN2C,KAAM,UACN4B,KAAMM,KAEP,CACC7E,KAAM,SACN2C,KAAM,SACN4B,KAAMO,MAIO,SAASC,IACvB,OACC,sBAAKnE,UAAW,MAAhB,UACC,sBAAKA,UAAW,SAAhB,UACC,qBAAKiB,IAAK,GAAIC,IAAK,mBACnB,4CAED,qBAAKlB,UAAW,QAAhB,SACE8D,EAAMpE,KAAI,SAAA0E,GAAI,OAAI,cAACV,EAAD,CAA0BtE,KAAMgF,EAAKhF,KAAMuE,KAAMS,EAAKT,KAAM5B,KAAMqC,EAAKrC,MAAxDqC,EAAKrC,c,MCpC5B,SAASsC,IACvB,OACC,qBAAKrE,UAAW,SAAhB,SAIC,sBAAKA,UAAU,eAAf,UACC,wBAAM,wBAAM,wBAAM,6BCHtB,SAASsE,EAAT,GAA+D,IAA/ClF,EAA8C,EAA9CA,KAAMU,EAAwC,EAAxCA,MACrB,OACC,sBAAKE,UAAW,OAAhB,UACC,cAAC,IAAD,CAAiBA,UAAW,SAC5B,mBAAGA,UAAW,OAAd,SAAuBZ,IACvB,mBAAGY,UAAW,QAAd,SAAwBF,OAKZ,SAASyE,EAAT,GAAgD,IAA5BC,EAA2B,EAA3BA,IAClC,EAAgC3E,qBAAhC,mBAAQ4E,EAAR,KAAiBC,EAAjB,KAOA,OALAC,qBAAU,WACM,MAAXF,GACJD,EAAII,eAAerB,MAAK,SAAAkB,GAAO,OAAIC,EAAWD,SAI9C,qBAAKzE,UAAW,+BAAhB,SACc,MAAXyE,EACC,cAAC,EAAD,IACA,mCACD,cAACH,EAAD,CAAMlF,KAAM,gBAAiBU,MAAO2E,EAAQjD,aCvBlC,SAASqD,EAAT,GAA8C,IAA3BL,EAA0B,EAA1BA,IACjC,EAAgC3E,qBAAhC,mBAAQ4E,EAAR,KAAiBC,EAAjB,KAOA,OALAC,qBAAU,WACM,MAAXF,GACJD,EAAII,eAAerB,MAAK,SAAAkB,GAAO,OAAIC,EAAWD,SAI9C,qBAAKzE,UAAW,8BAAhB,SACc,MAAXyE,EACC,cAAC,EAAD,IACA,+B,MCNS,SAASK,EAAT,GAAmE,IAA9CpD,EAA6C,EAA7CA,QACnC,EAAsC7B,qBAAtC,mBAAQkF,EAAR,KAAoBC,EAApB,KAgBA,OAdAL,qBAAU,WACT,GAAkB,MAAdI,EAAJ,CACA,IAAMP,EAAM,IAAIxC,EAASN,EAAQN,KAAM,CAAE5B,OAAQkC,EAAQlC,OAAQ+B,MAAOG,EAAQH,QAC1EW,EAASsC,EAAIS,mBAEnB/C,EAAOgD,QAAU,WAChBF,GAAc,IAEf9C,EAAOiD,OAAS,WACfX,EAAIY,WAAWlD,GACf8C,EAAcR,QAKf,mCACiB,MAAdO,EACC,cAAC,EAAD,IACCA,EACD,qCACD,cAAC,EAAD,IAEA,qBAAK/E,UAAW,UAAhB,SACC,eAAC,IAAD,WACC,cAAC,IAAD,CAAO+B,KAAM,IAAWsD,QAAS,cAACd,EAAD,CAAUC,IAAKO,MAChD,cAAC,IAAD,CAAOhD,KAAM,SAAWsD,QAAS,cAACR,EAAD,CAASL,IAAKO,cAPlC,cAAC,IAAD,CAAU/D,GAAI,Y,MCxBnB,SAASsE,IACvB,MAAgCC,YAAW,CAAC,OAAQ,SAAU,UAA9D,mBAAQ7D,EAAR,KAAiBd,EAAjB,KACM4E,EAA+B,MAAlB9D,EAAQlC,QAAkC,MAAhBkC,EAAQN,MAAiC,MAAjBM,EAAQH,MAE7E,OACC,qBAAKvB,UAAU,MAAf,SACC,cAAC,IAAD,UACC,eAAC,IAAD,WACC,cAAC,IAAD,CAAO+B,KAAM,SAAUsD,QAAS,cAAC5D,EAAD,CAAQC,QAASA,EAASd,WAAYA,MACtE,cAAC,IAAD,CAAOmB,KAAM,QAASsD,QAAS,cAAC,EAAD,CAAOzE,WAAYA,MAClD,cAAC,IAAD,CAAOmB,KAAM,IAAKsD,QAAUG,EAA0C,cAAC,EAAD,CAAW9D,QAASA,IAAjD,cAAC,IAAD,CAAUV,GAAI,oBCjB5D,IAYeyE,EAZS,SAACC,GACJ,MAAfA,GACF,6BAAqBnC,MAAK,YAAkD,IAA/CoC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOD,GACPE,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAQL,O,MCDdM,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACZ,EAAD,MAEFa,SAASC,eAAe,SAM1BX,OAAgBY,K","file":"static/js/main.ac6b72e1.chunk.js","sourcesContent":["import { MdExpandMore } from \"react-icons/md\";\nimport { useState } from \"react\";\nimport { Navigate } from \"react-router-dom\";\n\nimport \"./Login.scss\";\n\ntype Hooks = Record<string, { value: string | undefined; set: (value: string) => void }>;\ntype LoginMethod = { name: string; fields: string[] }\nconst loginMethods: Array<LoginMethod> = [\n\t{\n\t\tname: \"Player\",\n\t\tfields: [\n\t\t\t\"Player Name\",\n\t\t\t\"Access Token\"\n\t\t]\n\t},\n\t{\n\t\tname: \"Token\",\n\t\tfields: [\n\t\t\t\"Access Token\"\n\t\t]\n\t}\n]\nconst addressField = \"Cloud Hostaddress\";\n\nfunction MethodFormInputs({ method, hooks }:{ method: LoginMethod; hooks: Hooks }) {\n\treturn (\n\t\t<>\n\t\t\t{method.fields.map(field => <FormInput key={field} name={field} hooks={hooks} />)}\n\t\t</>\n\t);\n}\nfunction FormInput({ name, hooks }:{ name: string; hooks: Hooks }) {\n\tconst [ value, set ] = useState<string>();\n\thooks[name] = { value: value, set: set };\n\treturn <input className={\"input\"} placeholder={name} onChange={event => set(event.target.value)}/>\n}\nfunction LoginSelect({ method, setMethod, hooks }:{ method: LoginMethod | undefined; setMethod: (value: LoginMethod) => void; hooks: Hooks }) {\n\tconst [ collapsed, setCollapsed ] = useState(true);\n\n\treturn (\n\t\t<div className={\"LoginSelect\"}>\n\n\t\t\t<div className={\"box\"} onClick={event => setCollapsed(!collapsed)}>\n\t\t\t\t<p className={\"text\"}>{method == null ? \"Select Method\" : method.name}</p>\n\t\t\t\t<MdExpandMore className={\"icon\" + (collapsed ? \"\" : \" rotated\")}/>\n\t\t\t</div>\n\t\t\t<div className={\"dropdown-container\"}>\n\t\t\t\t<span className={\"dropdown\" + (collapsed ? \"\" : \" shown\")}>\n\t\t\t\t\t<div className={\"dropdown-selection\"}>\n\t\t\t\t\t\t{loginMethods.map(current =>\n\t\t\t\t\t\t\t<p key={current.name} className={(current === method ? \"current\" : \"\")} onClick={event => {\n\t\t\t\t\t\t\t\tsetMethod(current);\n\t\t\t\t\t\t\t\tsetCollapsed(true);\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t{current.name}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<FormInput name={addressField} hooks={hooks} />\n\t\t\t{method != null ? <MethodFormInputs method={method} hooks={hooks} /> : null}\n\n\t\t</div>\n\t)\n}\n\nexport default function Login({ setCookies }:{ setCookies: any }) {\n\tconst [ method, setMethod ] = useState<LoginMethod>();\n\tconst [ redirect, setRedirect ] = useState(false);\n\tconst hooks: Hooks = {};\n\n\tfunction Redirect({ to }: { to: string }) {\n\t\treturn redirect ? <Navigate to={to} /> : null;\n\t}\n\n\treturn (\n\t\t<div className={\"Login\"}>\n\n\t\t\t<div className={\"header\"}>\n\t\t\t\t<img alt={\"\"} src={\"logo-sized.png\"}/>\n\t\t\t\t<h1>DyCloud » Dashboard</h1>\n\t\t\t</div>\n\n\t\t\t<div className={\"form-container\"}>\n\t\t\t\t<div className={\"form\"}>\n\t\t\t\t\t<h1>Login</h1>\n\t\t\t\t\t{/*<h1>•┃ Login ┃•</h1>*/}\n\t\t\t\t\t{/*<h1>•» Login «•</h1>*/}\n\t\t\t\t\t<LoginSelect method={method} setMethod={setMethod} hooks={hooks} />\n\t\t\t\t\t<div className={\"button\"} onClick={event => {\n\t\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\t\tif (method == null) return;\n\t\t\t\t\t\tconst host = hooks[addressField].value;\n\t\t\t\t\t\tconst options = { magAge: 7*24*60*60*60 };\n\n\t\t\t\t\t\tsetCookies(\"method\", method, options);\n\t\t\t\t\t\tsetCookies(\"host\", host, options);\n\n\t\t\t\t\t\tlet token = \"\";\n\t\t\t\t\t\tfor (const field of method.fields) {\n\t\t\t\t\t\t\tif (token.length > 0) token += \":\";\n\t\t\t\t\t\t\ttoken += hooks[field].value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetCookies(\"token\", token, options);\n\n\t\t\t\t\t\tsetRedirect(true);\n\t\t\t\t\t}}>Login</div>\n\t\t\t\t\t<Redirect to={\"/\"} />\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t</div>\n\t)\n}","import { Navigate } from \"react-router-dom\";\n\nexport default function Logout({ cookies, setCookies }:{ cookies: any; setCookies: any }) {\n\tfor (const key in cookies) {\n\t\tif (key === \"cookieconsent_status\") continue;\n\t\tsetCookies(key, \"\", { expires: new Date(0) })\n\t}\n\n\treturn <Navigate to={\"/login\"} />\n}","import axios from \"axios\";\n\nconst API_VERSION = 1;\n\ntype Auth = {\n\tmethod: string;\n\ttoken: string;\n}\ntype HttpMethod =\n\t| \"get\"\n\t| \"delete\"\n\t| \"head\"\n\t| \"options\"\n\t| \"post\"\n\t| \"put\"\n\t| \"patch\"\n\t| \"purge\"\n\t| \"link\"\n\t| \"unlink\";\n\ntype Route = {\n\tpath: string;\n\tmethod: HttpMethod;\n}\nexport module Routes {\n\texport const UPGRADE_WEBSOCKET: Route \t= { path: \"/upgrade\", \t\tmethod: \"get\" };\n\texport const ONLINE_PLAYERS: Route \t\t= { path: \"/player/online\",\tmethod: \"get\" };\n}\n\nexport interface Player {\n\tname: string;\n\tuuid: string;\n}\n\nexport class CloudAPI {\n\n\tprivate readonly host: string;\n\tprivate readonly auth: Auth;\n\tprivate socket: WebSocket | undefined;\n\n\tconstructor(host: string, auth: Auth) {\n\t\tthis.host = host;\n\t\tthis.auth = auth;\n\t}\n\n\tgetAuth(): string {\n\t\treturn this.auth.method + \" \" + this.auth.token;\n\t}\n\n\tinitSocket(socket: WebSocket): void {\n\t\tthis.socket = socket;\n\n\t\tthis.socket.onmessage = (event) => {\n\t\t\tconst message = event.data;\n\t\t\tconsole.log(\"WebSocket: \" + message);\n\t\t}\n\t}\n\n\tuseUrl(route: Route, queryParams: Record<string, string> = {}, protocol: string = \"http\"): string {\n\t\tconsole.log(queryParams)\n\t\tlet query = \"\";\n\t\tfor (const key in queryParams) {\n\t\t\tif (query === \"\") query = \"?\";\n\t\t\telse query += \"&\";\n\t\t\tquery += key;\n\t\t\tquery += \"=\";\n\t\t\tquery += encodeURIComponent(queryParams[key]);\n\t\t\tconsole.log(key)\n\t\t\tconsole.log(queryParams[key])\n\t\t}\n\n\t\treturn `${protocol}://${this.host}/v${API_VERSION}${route.path}${query}`;\n\t}\n\n\tpublic upgradeWebSocket(): WebSocket {\n\t\treturn new WebSocket(this.useUrl(Routes.UPGRADE_WEBSOCKET, { auth: this.auth.method + \" \" + this.auth.token }, \"wss\"));\n\t}\n\n\tpublic async makeRequest(route: Route): Promise<any> {\n\t\tconst endpoint = this.useUrl(route);\n\n\t\treturn axios(endpoint, {\n\t\t\theaders: {\n\t\t\t\tAuthorization: this.getAuth()\n\t\t\t},\n\t\t\ttimeout: 3500,\n\t\t\tmethod: route.method\n\t\t}).then(value => value.data);\n\t}\n\n\tpublic async fetchPlayers(): Promise<Player[]> {\n\t\treturn this.makeRequest(Routes.ONLINE_PLAYERS);\n\t}\n\n}\n\nexport function useTitle(label: string) {\n\t// document.title = \"DyCloud\" + (label === null || label === \"\" ? \"\" : \" | \" + label);\n}\n","import React from \"react\";\nimport { IconType } from \"react-icons\";\nimport { NavLink } from \"react-router-dom\";\n\nexport default function NavEntry({ name, icon, path }: { name: string, path: string; icon: IconType }) {\n\treturn (\n\t\t<div>\n\t\t\t<NavLink to={path} className={\"NavEntry\"}>\n\t\t\t\t{React.createElement(icon, { className: \"icon\" })}\n\t\t\t\t<p className={\"name\"}>{name}</p>\n\t\t\t</NavLink >\n\t\t</div>\n\t);\n}","import { MdHome, MdPeople, MdStorage, MdOutlineLogout } from \"react-icons/all\";\nimport { IconType } from \"react-icons\";\n\nimport NavEntry from \"./dashboard/NavEntry\";\n\nimport \"./dashboard/Nav.scss\";\n\nconst links: Array<{ name: string; path: string; icon: IconType }> = [\n\t{\n\t\tname: \"Overview\",\n\t\tpath: \"/\",\n\t\ticon: MdHome\n\t},\n\t{\n\t\tname: \"Players\",\n\t\tpath: \"player\",\n\t\ticon: MdPeople\n\t},\n\t{\n\t\tname: \"Services\",\n\t\tpath: \"service\",\n\t\ticon: MdStorage\n\t},\n\t{\n\t\tname: \"Logout\",\n\t\tpath: \"logout\",\n\t\ticon: MdOutlineLogout\n\t}\n];\n\nexport default function Nav() {\n\treturn (\n\t\t<div className={\"Nav\"}>\n\t\t\t<div className={\"header\"}>\n\t\t\t\t<img alt={\"\"} src={\"logo-sized.png\"} />\n\t\t\t\t<h1>DyCloud</h1>\n\t\t\t</div>\n\t\t\t<div className={\"links\"}>\n\t\t\t\t{links.map(link => <NavEntry key={link.path} name={link.name} icon={link.icon} path={link.path} />)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};","import \"./Loader.scss\";\n\nexport default function Loader() {\n\treturn (\n\t\t<div className={\"Loader\"}>\n\t\t\t{/*<div className=\"lds-ripple\">*/}\n\t\t\t{/*\t<div/><div/>*/}\n\t\t\t{/*</div>*/}\n\t\t\t<div className=\"lds-ellipsis\">\n\t\t\t\t<div/><div/><div/><div/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}","import { useEffect, useState } from \"react\";\nimport { MdPeopleOutline } from \"react-icons/all\";\n\nimport Loader from \"../../Loader\";\nimport { CloudAPI, Player } from \"../../../api/api\";\n\nfunction Card({ name, value }: { name: string; value: any; }) {\n\treturn (\n\t\t<div className={\"Card\"}>\n\t\t\t<MdPeopleOutline className={\"icon\"}/>\n\t\t\t<p className={\"name\"}>{name}</p>\n\t\t\t<p className={\"value\"}>{value}</p>\n\t\t</div>\n\t);\n}\n\nexport default function Overview({ api }: { api: CloudAPI; }) {\n\tconst [ players, setPlayers ] = useState<Array<Player>>();\n\n\tuseEffect(() => {\n\t\tif (players != null) return;\n\t\tapi.fetchPlayers().then(players => setPlayers(players));\n\t});\n\n\treturn (\n\t\t<div className={\"Overview Dashboard-Component\"}>\n\t\t\t{ players == null\n\t\t\t\t? <Loader/>\n\t\t\t\t: <>\n\t\t\t\t\t<Card name={\"Online Player\"} value={players.length} />\n\t\t\t\t</>\n\t\t\t}\n\t\t</div>\n\t);\n}","import { ImHammer2 } from \"react-icons/all\";\nimport { useEffect, useState } from \"react\";\n\nimport Loader from \"../../Loader\";\nimport { CloudAPI, Player } from \"../../../api/api\";\n\nexport default function Players({ api }: { api: CloudAPI }) {\n\tconst [ players, setPlayers ] = useState<Array<Player>>();\n\n\tuseEffect(() => {\n\t\tif (players != null) return;\n\t\tapi.fetchPlayers().then(players => setPlayers(players));\n\t});\n\n\treturn (\n\t\t<div className={\"Players Dashboard-Component\"}>\n\t\t\t{ players == null\n\t\t\t\t? <Loader/>\n\t\t\t\t: <>\n\t\t\t\t</>\n\t\t\t}\n\t\t</div>\n\t);\n}","import { Navigate, Route, Routes } from \"react-router-dom\"\nimport { useEffect, useState } from \"react\";\n\nimport { CloudAPI, Routes as ApiRoutes } from \"../../api/api\";\n\nimport Nav from \"../Nav\";\nimport Overview from \"./content/Overview\";\nimport Players from \"./content/Players\";\nimport Loader from \"../Loader\";\n\nimport \"./Dashboard.scss\";\n\nexport default function Dashboard({ cookies }: { cookies: Record<string, any> }) {\n\tconst [ connection, setConnection ] = useState<any>();\n\n\tuseEffect(() => {\n\t\tif (connection != null) return; // only try to connect the first time\n\t\tconst api = new CloudAPI(cookies.host, { method: cookies.method, token: cookies.token });\n\t\tconst socket = api.upgradeWebSocket();\n\n\t\tsocket.onerror = () => {\n\t\t\tsetConnection(false);\n\t\t}\n\t\tsocket.onopen = () => {\n\t\t\tapi.initSocket(socket);\n\t\t\tsetConnection(api);\n\t\t}\n\t});\n\n\treturn (\n\t\t<>\n\t\t\t{ connection == null\n\t\t\t\t? <Loader />\n\t\t\t\t: !connection ? <Navigate to={\"login\"} />\n\t\t\t\t: <>\n\t\t\t\t\t<Nav/>\n\n\t\t\t\t\t<div className={\"content\"}>\n\t\t\t\t\t\t<Routes>\n\t\t\t\t\t\t\t<Route path={\"/\"}       element={<Overview api={connection} />} />\n\t\t\t\t\t\t\t<Route path={\"player\"}  element={<Players api={connection} />} />\n\t\t\t\t\t\t</Routes>\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t}\n\n\t\t</>\n\t);\n}","import { BrowserRouter as Router, Route, Routes, Navigate } from \"react-router-dom\"\nimport { useCookies } from \"react-cookie\";\n\nimport Login from \"./components/Login\";\nimport Logout from \"./components/Logout\";\nimport Dashboard from \"./components/dashboard/Dashboard\";\n\nimport \"./theme.scss\";\n\nexport default function App() {\n\tconst [ cookies, setCookies ] = useCookies([\"host\", \"method\", \"token\"]);\n\tconst cookiesSet = cookies.method != null && cookies.host != null && cookies.token != null;\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<Router>\n\t\t\t\t<Routes>\n\t\t\t\t\t<Route path={\"logout\"} element={<Logout cookies={cookies} setCookies={setCookies} />} />\n\t\t\t\t\t<Route path={\"login\"} element={<Login setCookies={setCookies} />} />\n\t\t\t\t\t<Route path={\"*\"} element={!cookiesSet ? <Navigate to={\"/login\"} /> : <Dashboard cookies={cookies} />} />\n\t\t\t\t</Routes>\n\t\t\t</Router>\n\t\t</div>\n\t);\n}\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry: ReportHandler | undefined) => {\n  if (onPerfEntry != null) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals(undefined);\n"],"sourceRoot":""}